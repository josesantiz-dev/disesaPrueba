<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j" 
    xmlns:rich="http://richfaces.org/rich">
    
    <rich:popupPanel id="pnlObrasCobranza" autosized="true" domElementAttachment="form" top="5">
    	<f:facet name="header">
			<h:panelGroup>
				<h:graphicImage style="cursor:pointer; margin:0; float:left;" title="Auditoria"
					value="#{msg['navegacion.gral.info.img']}">
					<a4j:ajax event="click" 
						oncomplete="#{rich:component('pnlAuditoria')}.show()" 
						render="pnlAuditoria" />
				</h:graphicImage>
				
				<h:outputText value="#{msg['estadoCuenta']}" styleClass="Titulo" />
			</h:panelGroup>
		</f:facet>
		
		<f:facet name="controls">
			<h:graphicImage style="cursor:pointer;" title="Cerrar"
				value="#{msg['navegacion.gral.cerrar.img']}" 
				onclick="#{rich:component('pnlObrasCobranza')}.hide()" />
		</f:facet>
		
		<a4j:region id ="regObrasCobranza">
			<div style="margin:0; padding:0; min-width:1280px; width:1280px; text-align:center; overflow:hidden;">
				<h:panelGrid id="botoneraCobranza" columns="2" style="padding:0; width:100%; min-height:22px; text-align:left;">
					<h:panelGroup id="grupoBotonesIzquierdosCobranza" style="width:100%; vertical-align:middle; position:relative;">
						<a4j:commandButton id="cmdActualizaObraCobranza" style="margin:auto 5px; vertical-align: middle; position:relative; cursor:pointer;"
							image="#{msg['actualizar22.img']}" title="#{msg['actualizar']}" 
							action="#{cobranzaAction.ver}"
							render="groupCobranza"
							limitRender="true" />
							
						<rich:messages id="validadorCobranza" showDetail="false" showSummary="true" globalOnly="false" title="Campos requeridos!" >
							<f:facet name="errorMarker"><h:graphicImage value="#{msg['alert16.img']}" style="margin-right:1em; text-align:left;" /></f:facet>
						</rich:messages>
					</h:panelGroup>
					
					<h:panelGroup id="grupoBotonesDerechosCobranza" style="width:100%; vertical-align:middle; position:relative;">
						<a4j:commandButton id="cmdSalvarObraCobranza" style="float:right; margin:auto 5px; vertical-align:middle; cursor:pointer;" 
							image="#{msg['salvar22.img']}" title="#{msg['salvar.e']}"
							rendered="#{cobranzaAction.permisoEscritura}"
							action="#{cobranzaAction.guardar}" execute="@region" 
							oncomplete="salvar(#{cobranzaAction.operacion}, '#{rich:clientId('pnlObrasCobranza')}', '#{rich:clientId('pnlMensajes')}', #{rich:element('validadorCobranza')})"
							render="validadorCobranza,pnlMensajes"
							limitRender="true" />
							
						<a4j:commandButton id="cmdReporte" style="float:right; margin:auto 5px; vertical-align:middle; cursor:pointer;" 
							image="#{msg['imprimir22.img']}" title="#{msg['imprimir.e']} #{msg['estadoCuenta']} #{msg['cobranza']}"
							action="#{cobranzaAction.reporte}"
							oncomplete="reporte(#{cobranzaAction.operacion}, '#{rich:clientId('pnlMensajes')}')"
							render="pnlMensajes"
							limitRender="true" />
					</h:panelGroup>
				</h:panelGrid>
				
				<h:panelGroup styleClass="encabezado" style="margin:5px auto 0; min-height:1em; padding:4px 0;">
					<h:outputLabel value="#{cobranzaAction.cobranzaTitulo}" />
				</h:panelGroup>
				
				<fieldset style="border:none;" disabled="#{! cobranzaAction.permisoEscritura ? 'disabled' : ''}">
					<h:panelGrid columns="6" columnClasses="colTitulo,colDato,colTitulo,colDato,colDato,colDato" style="margin:0 auto; width:100%; padding:0; text-align:left;">
						<h:outputText value="#{msg['anticipo']}:" styleClass="Titulo" />
						<h:panelGroup>
							<h:inputText id="txtPorcentajeAnticipo" style="width:50px; text-align:right; margin:0 5px; padding:2px;"
								value="#{cobranzaAction.porcentajeAnticipo}"
								onkeypress="return soloDecimales(event, this.value, 3, 4);"
								validatorMessage="#{msg['porcentaje']} #{msg['anticipo']}: #{msg['mensaje.validacion.valorCeroCien']}">
								<f:convertNumber pattern="#{cobranzaAction.porcentajeFormat}" />
								<f:validateLongRange minimum="0" maximum="100" for="txtPorcentajeAnticipo" />
								<a4j:ajax event="change" execute="@region" 
									render="groupCobranza, txtPorcentajeAnticipo, validadorCobranza" 
									limitRender="true" />
							</h:inputText>
							<h:outputText value="#{msg['%']}" styleClass="Titulo" />
						</h:panelGroup>
						
						<h:outputText value="#{msg['navegacion.label.vacio']}" styleClass="Titulo" />
						<h:outputText value="#{msg['navegacion.label.vacio']}" styleClass="Titulo" />
						
						<h:outputText value="#{msg['navegacion.label.vacio']}" styleClass="Titulo" />
						<h:panelGroup>
							<h:panelGrid columns="2" style="float:right; margin:0 5px 0 auto; padding:0;">
								<h:outputText value="#{msg['total']} #{msg['cobranza']} MXN:" styleClass="Titulo" />
								<h:outputText value="#{cobranzaAction.totalCobranza}" styleClass="Titulo">
									<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
								</h:outputText>
							</h:panelGrid>
						</h:panelGroup>
						
						<h:outputText value="#{msg['retencion']}:" styleClass="Titulo" />
						<h:panelGroup>
							<h:inputText id="txtPorcentajeRetencion" style="width:50px; text-align:right; margin:0 5px; padding:2px;"
								value="#{cobranzaAction.porcentajeRetencion}"
								onkeypress="return soloDecimales(event, this.value, 3, 4);"
								validatorMessage="#{msg['porcentaje']} #{msg['retencion']}: #{msg['mensaje.validacion.valorCeroCien']}">
								<f:convertNumber pattern="#{cobranzaAction.porcentajeFormat}" />
								<f:validateLongRange minimum="0" maximum="100" for="txtPorcentajeRetencion" />
								<a4j:ajax event="change" execute="@region" 
									render="groupCobranza, txtPorcentajeRetencion, validadorCobranza" 
									limitRender="true" />
							</h:inputText>
							<h:outputText value="#{msg['%']}" styleClass="Titulo" />
						</h:panelGroup>
						
						<h:outputText value="#{msg['navegacion.label.vacio']}" styleClass="Titulo" />
						<h:outputText value="#{msg['navegacion.label.vacio']}" styleClass="Titulo" />
						
						<h:outputText value="#{msg['navegacion.label.vacio']}" styleClass="Titulo" />
						<h:panelGroup>
							<h:panelGrid columns="2" style="float:right; margin:0 5px 0 auto; padding:0;">
								<h:outputText value="#{msg['total']} #{msg['cobranza']} USD:" styleClass="Titulo" />
								<h:outputText value="#{cobranzaAction.totalCobranzaUSD}" styleClass="Titulo">
									<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
								</h:outputText>
							</h:panelGrid>
						</h:panelGroup>
					</h:panelGrid>
					
					<rich:tabPanel id="groupCobranza" style="margin:5px auto 0; padding:0; width:100%; text-align:center;" switchType="client" activeItem="tabMXN">
						<rich:tab name="tabMXN" header="PESOS (MXN)" style="margin:0; padding:0;">
							<div class="tableParent" style="display:block; margin:0 auto; width:100%; padding:0; height:auto; max-height:360px; overflow-y:auto;">
								<rich:dataTable id="dtObraCobranzaMXN" value="#{cobranzaAction.listObraCobranzaMXN}" var="var" iterationStatusVar="it"
									style="margin:0 auto;" cellpadding="0" cellspacing="0" rows="50" border="0" rowClasses="Row1, Row2" styleClass="tabla_pagina">
									<f:facet name="header">
										<rich:columnGroup>
											<rich:column colspan="4" style="text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['facturacion']}" />
											</rich:column>
											
											<rich:column colspan="8" style="text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['cobranza']}" />
											</rich:column>
											
											<rich:column style="min-width:78px; max-width:78px; text-align:center; padding:2px;" breakRowBefore="true">
												<h:outputLabel value="#{msg['factura']}" />
											</rich:column>
											
											<rich:column style="min-width:78px; max-width:78px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['fecha']}" />
											</rich:column>
											
											<rich:column style="min-width:160px; max-width:160px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['concepto']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['facturado']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputText value="#{msg['anticipo']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['estimacion']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['amortizacion']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['fondo']} #{msg['garantia']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['subtotal']} #{msg['con']} #{msg['retenciones']}" />
											</rich:column>
												
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['iva']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['estimacion']} #{msg['retenciones']} #{msg['e']} #{msg['iva']}" title="#{msg['cobrado']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:128px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['cobradoLiquido']}" />
											</rich:column>
											
											<!--rich:column style="min-width:96px; max-width:128px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['porCobrar']}" />
											</rich:column-->
										</rich:columnGroup>
									</f:facet>
									
									<rich:column style="min-width:78px; max-width:78px; text-align:center; padding:2px;">
										<h:outputLabel value="#{var.folio}" title="#{var.idFactura}" />
									</rich:column>
									
									<rich:column style="min-width:78px; max-width:78px; text-align:center; padding:2px;">
										<h:outputLabel value="#{var.fecha}">
											<f:convertDateTime type="date" pattern="dd-MMM-yyyy" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:160px; max-width:160px; text-align:left; padding:2px;">
										<h:outputLabel value="#{var.concepto}" title="#{var.concepto}" style="display:inline-block; width:100%; height:100%; max-height:72px; font-size:0.9em; overflow:hidden; text-overflow:ellipsis; text-align:left; text-transform:uppercase;" />
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.facturaTotal}" title="#{msg['saldo']}: #{var.facturaSaldo}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
										<h:inputText style="width:74px; text-align:right; padding:2px;"
											value="#{var.anticipo}" 
											onkeypress="return soloDecimales(event, this.value, 10, 4);">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
											<a4j:ajax event="change" 
												listener="#{cobranzaAction.totalizarCobranzaMXN}" 
												render="dtObraCobranzaMXN" execute="@region" />
										</h:inputText>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
										<h:inputText style="width:74px; text-align:right; padding:2px;"
											value="#{var.estimacion}" 
											onkeypress="return soloDecimales(event, this.value, 10, 4);">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
											<a4j:ajax event="change" 
												listener="#{cobranzaAction.totalizarCobranzaMXN}" 
												render="dtObraCobranzaMXN" execute="@region" />
										</h:inputText>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.amortizacion}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column> 
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.fondoGarantia}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.subtotal}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.iva}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.total}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:128px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.facturaCobrado}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<f:facet name="footer">
										<rich:columnGroup>
											<rich:column style="min-width:316px; text-align:left; padding:2px;" styleClass="Descripcion" colspan="3">
												<h:outputText value="#{msg['totales']}" />
											</rich:column>
										
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumFacturado}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
										
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumAnticipo}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumEstimacion}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumAmortizacion}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column> 
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumGarantia}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumSubtotal}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumIva}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumEstimacionTotal}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:128px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumCobrado}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="text-align:center;" styleClass="Descripcion" colspan="12" breakRowBefore="true">
												<rich:dataScroller for="dtObraCobranzaMXN" page="#{cobranzaAction.numPaginaObraCobranzaMXN}" renderIfSinglePage="false"
													ajaxSingle="true" maxPages="10" fastStep="10" align="center" styleClass="Titulo" />
											</rich:column>
										</rich:columnGroup>
									</f:facet>
								</rich:dataTable>
							</div>
						</rich:tab>
						
						<rich:tab name="tabUSD" header="DOLARES (USD)" style="margin:0; padding:0;">
							<div class="tableParent" style="display:block; margin:0 auto; width:100%; padding:0; height:auto; max-height:360px; overflow-y:auto;">
								<rich:dataTable id="dtObraCobranzaUSD" value="#{cobranzaAction.listObraCobranzaUSD}" var="var" iterationStatusVar="it"
									style="margin:0 auto; width:100%;" cellpadding="0" cellspacing="0" rows="50" border="0" rowClasses="Row1, Row2" styleClass="tabla_pagina">
									<f:facet name="header">
										<rich:columnGroup>
											<rich:column colspan="4" style="text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['facturacion']}" />
											</rich:column>
											
											<rich:column colspan="8" style="text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['cobranza']}" />
											</rich:column>
											
											<rich:column style="min-width:78px; max-width:78px; text-align:center; padding:2px;" breakRowBefore="true">
												<h:outputLabel value="#{msg['factura']}" />
											</rich:column>
											
											<rich:column style="min-width:78px; max-width:78px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['fecha']}" />
											</rich:column>
											
											<rich:column style="min-width:160px; max-width:160px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['concepto']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['facturado']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputText value="#{msg['anticipo']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['estimacion']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['amortizacion']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['fondo']} #{msg['garantia']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['subtotal']} #{msg['con']} #{msg['retenciones']}" />
											</rich:column>
												
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['iva']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['estimacion']} #{msg['retenciones']} #{msg['e']} #{msg['iva']}" title="#{msg['cobrado']}" />
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:128px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['cobradoLiquido']}" />
											</rich:column>
											
											<!--rich:column style="min-width:96px; max-width:128px; text-align:center; padding:2px;">
												<h:outputLabel value="#{msg['porCobrar']}" />
											</rich:column-->
										</rich:columnGroup>
									</f:facet>
									
									<rich:column style="min-width:78px; max-width:78px; text-align:center; padding:2px;">
										<h:outputLabel value="#{var.folio}" title="#{var.id}" />
									</rich:column>
									
									<rich:column style="min-width:78px; max-width:78px; text-align:center; padding:2px;">
										<h:outputLabel value="#{var.fecha}">
											<f:convertDateTime type="date" pattern="dd-MMM-yyyy" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:160px; max-width:160px; text-align:left; padding:2px;">
										<h:outputLabel value="#{var.concepto}" title="#{var.concepto}" style="display:inline-block; width:100%; height:100%; max-height:72px; font-size:0.9em; overflow:hidden; text-overflow:ellipsis; text-align:left; text-transform:uppercase;" />
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.facturaTotal}" title="#{msg['saldo']}: #{var.facturaSaldo}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
										<h:inputText style="width:74px; text-align:right;"
											value="#{var.anticipo}" 
											onkeypress="return soloDecimales(event, this.value, 10, 4);">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
											<a4j:ajax event="change" 
												listener="#{cobranzaAction.totalizarCobranzaUSD}" 
												render="dtObraCobranzaUSD" execute="@region" />
										</h:inputText>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:center; padding:2px;">
										<h:inputText style="width:74px; text-align:right;"
											value="#{var.estimacion}" 
											onkeypress="return soloDecimales(event, this.value, 10, 4);">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
											<a4j:ajax event="change" 
												listener="#{cobranzaAction.totalizarCobranzaUSD}" 
												render="dtObraCobranzaUSD" execute="@region" />
										</h:inputText>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.amortizacion}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column> 
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.fondoGarantia}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.subtotal}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.iva}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.total}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<rich:column style="min-width:96px; max-width:128px; text-align:right; padding:2px;">
										<h:outputLabel value="#{var.facturaCobrado}">
											<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
										</h:outputLabel>
									</rich:column>
									
									<f:facet name="footer">
										<rich:columnGroup>
											<rich:column style="min-width:316px; text-align:left; padding:2px;" styleClass="Descripcion" colspan="3">
												<h:outputText value="#{msg['totales']}" />
											</rich:column>
										
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumFacturadoUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
										
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumAnticipoUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumEstimacionUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumAmortizacionUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column> 
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumGarantiaUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumSubtotalUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumIvaUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:96px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumEstimacionTotalUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="min-width:96px; max-width:128px; text-align:right; padding:2px;" styleClass="Descripcion">
												<h:outputText value="#{cobranzaAction.sumCobradoUSD}">
													<f:convertNumber pattern="#{cobranzaAction.decimalFormat}" />
												</h:outputText>
											</rich:column>
											
											<rich:column style="text-align:center;" styleClass="Descripcion" colspan="12" breakRowBefore="true">
												<rich:dataScroller for="dtObraCobranzaUSD" page="#{cobranzaAction.numPaginaObraCobranzaUSD}" renderIfSinglePage="false"
													ajaxSingle="true" maxPages="10" fastStep="10" align="center" styleClass="Titulo" />
											</rich:column>
										</rich:columnGroup>
									</f:facet>
								</rich:dataTable>
							</div>
						</rich:tab>
					</rich:tabPanel>
				</fieldset>
			</div>
		</a4j:region>
	</rich:popupPanel>
</ui:composition>